<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Enquete — Força Estudantil</title>
  <link rel="shortcut icon" href="/mnt/data/logo.png" type="image/png">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header>
    <div class="header-inner">
      <a class="brand" href="index.html">
        <img src="/mnt/data/logo.png" alt="Logo" class="logo-image">
        <span class="brand-text">FORÇA ESTUDANTIL</span>
      </a>
      <nav class="navbar">
        <a href="index.html">INÍCIO</a>
        <a href="index.html#sobre">INTEGRANTES</a>
        <a href="https://www.instagram.com/gremiofestudantil/" target="_blank" rel="noopener">CONTATO</a>
      </nav>
      <button id="menu-toggle" aria-label="Abrir menu">☰</button>
    </div>
  </header>

  <main style="margin-top:80px;padding:26px;">
    <div class="container" style="max-width:800px;margin:0 auto;">
      <h1 style="color:var(--purple-700)">Enquetes — Participe</h1>
      <p style="color:var(--muted)">Responda as questões abaixo — as respostas são armazenadas localmente no seu
        navegador (sem coletar dados sensíveis).</p>

      <form id="surveyForm"
        style="margin-top:18px;background:var(--card);padding:18px;border-radius:12px;box-shadow:var(--shadow)">
        <label style="display:block;margin-bottom:12px">
          <strong>1) Qual o evento que você prefere?</strong><br>
          <select id="q1" required
            style="margin-top:8px;padding:10px;border-radius:8px;width:100%;border:1px solid #e6e2ef">
            <option value="">Escolha...</option>
            <option>Arraial</option>
            <option>Feira Cultural</option>
            <option>Torneio de Esportes</option>
            <option>Oficinas</option>
          </select>
        </label>

        <label style="display:block;margin-bottom:12px">
          <strong>2) Você gostaria de oficinas de:</strong><br>
          <label><input type="checkbox" name="q2" value="Música"> Música</label><br>
          <label><input type="checkbox" name="q2" value="Programação"> Programação</label><br>
          <label><input type="checkbox" name="q2" value="Arte"> Arte</label><br>
          <label><input type="checkbox" name="q2" value="Esportes"> Esportes</label>
        </label>

        <label style="display:block;margin-bottom:12px">
          <strong>3) O que podemos melhorar na escola?</strong><br>
          <textarea id="q3" rows="4"
            style="width:100%;padding:8px;border-radius:8px;border:1px solid #e6e2ef;margin-top:8px"></textarea>
        </label>

        <div style="display:flex;gap:12px;align-items:center;margin-top:12px">
          <button type="submit" class="btn-primary">Enviar respostas</button>
          <button type="button" id="clearBtn"
            style="background:#fff;border:1px solid #eee;padding:10px;border-radius:8px;cursor:pointer">Limpar</button>
        </div>

        <div id="thanks" style="display:none;margin-top:14px;color:var(--purple-700);font-weight:700">Obrigado! Sua
          resposta foi registrada.</div>
      </form>

      <section style="margin-top:18px">
        <h3 style="margin-bottom:8px;color:var(--purple-700)">Respostas salvas (local)</h3>
        <div id="responses" style="background:#fff;padding:14px;border-radius:10px;min-height:40px"></div>
      </section>
    </div>
  </main>

  <footer>
    <div class="footer-inner">
      <p>&copy; 2025 Força Estudantil</p>
      <a class="footer-link" href="index.html">Voltar ao site</a>
    </div>
  </footer>

  <script>
    // simples armazenamento em localStorage
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.getElementById('surveyForm');
      const responsesEl = document.getElementById('responses');
      const thanks = document.getElementById('thanks');
      const clearBtn = document.getElementById('clearBtn');

      function renderResponses() {
        const data = JSON.parse(localStorage.getItem('forca_enquetes') || '[]');
        if (!data.length) { responsesEl.innerHTML = '<em>Nenhuma resposta ainda.</em>'; return; }
        responsesEl.innerHTML = data.map((r, i) =>
          `<div style="padding:8px;border-bottom:1px solid #f0eef6">
            <strong>#${i + 1}</strong> — <small style="color:#666">${new Date(r.ts).toLocaleString()}</small>
            <div><strong>Evento:</strong> ${r.q1 || '—'}</div>
            <div><strong>Oficinas:</strong> ${r.q2.length ? r.q2.join(', ') : '—'}</div>
            <div><strong>Sugestão:</strong> ${r.q3 || '—'}</div>
          </div>`).join('');
      }

      form.addEventListener('submit', (e) => {
        e.preventDefault();
        const q1 = document.getElementById('q1').value;
        const q2 = Array.from(form.querySelectorAll('input[name="q2"]:checked')).map(i => i.value);
        const q3 = document.getElementById('q3').value.trim();

        const data = JSON.parse(localStorage.getItem('forca_enquetes') || '[]');
        data.unshift({ q1, q2, q3, ts: Date.now() });
        localStorage.setItem('forca_enquetes', JSON.stringify(data.slice(0, 50))); // keep up to 50
        thanks.style.display = 'block';
        setTimeout(() => { thanks.style.display = 'none' }, 2500);
        form.reset();
        renderResponses();
      });

      clearBtn.addEventListener('click', () => {
        if (confirm('Limpar respostas salvas no navegador?')) {
          localStorage.removeItem('forca_enquetes');
          renderResponses();
        }
      });

      renderResponses();
    });
  </script>
</body>

</html>